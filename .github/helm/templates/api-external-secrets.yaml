{{- if has "api-external" .Values.deploy.enabledServices }}
apiVersion: v1
kind: Secret
metadata:
  name: api-external
type: Opaque
stringData:
  dataSourceConnectionString: {{ required "services.apiExternal.dataSourceConnectionString is required" .Values.services.apiExternal.dataSourceConnectionString | quote }}
  jwtSigningSecretKey: {{ required "services.apiExternal.jwtSigningSecretKey is required" .Values.services.apiExternal.jwtSigningSecretKey | quote }}
  jwtEncryptionSecretKey: {{ required "services.apiExternal.jwtEncryptionSecretKey is required" .Values.services.apiExternal.jwtEncryptionSecretKey | quote }}
{{- end }}
