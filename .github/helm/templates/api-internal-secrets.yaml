{{- if has "api-internal" .Values.deploy.enabledServices }}
apiVersion: v1
kind: Secret
metadata:
  name: api-internal
type: Opaque
stringData:
  dataSourceConnectionString: {{ required "services.apiExternal.dataSourceConnectionString is required" .Values.services.apiInternal.dataSourceConnectionString | quote }}
  jwtSigningSecretKey: {{ required "services.apiInternal.jwtSigningSecretKey is required" .Values.services.apiInternal.jwtSigningSecretKey | quote }}
  jwtEncryptionSecretKey: {{ required "services.apiInternal.jwtEncryptionSecretKey is required" .Values.services.apiInternal.jwtEncryptionSecretKey | quote }}
  certificatePath: {{ required "services.apiInternal.certificatePath is required" .Values.services.apiInternal.certificatePath | quote }}
  certificatePassword: {{ required "services.apiInternal.certificatePassword is required" .Values.services.apiInternal.certificatePassword | quote }}
{{- end }}
