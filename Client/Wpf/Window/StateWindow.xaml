<wnd:BaseEditWindow x:Class="Deve.ClientApp.Wpf.Window.StateWindow"
                xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
                xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
                xmlns:local="clr-namespace:Deve.ClientApp.Wpf"
                xmlns:wnd="clr-namespace:Deve.ClientApp.Wpf.Window"
                xmlns:ctrl="clr-namespace:Deve.ClientApp.Wpf.Control"
                xmlns:strings="clr-namespace:Deve.ClientApp.Wpf.Resources.Strings"
                xmlns:fa="http://schemas.fontawesome.com/icons/svg"
                xmlns:vm="clr-namespace:Deve.ClientApp.Wpf.ViewModel"
                d:DataContext="{d:DesignInstance Type=vm:StateViewModel}"
                mc:Ignorable="d"
                Title="{x:Static strings:AppResources.State}"
                Width="300" Height="275"
                ResizeMode="NoResize" WindowStartupLocation="CenterScreen" WindowStyle="ToolWindow">
    <ScrollViewer HorizontalScrollBarVisibility="Hidden" VerticalScrollBarVisibility="Auto">
        <StackPanel Orientation="Vertical" VerticalAlignment="Center">
            <Border HorizontalAlignment="Stretch" BorderBrush="Black" BorderThickness="1" Style="{StaticResource MainBorder}">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                    </Grid.RowDefinitions>

                    <Label Grid.ColumnSpan="2" Grid.Row="0" Content="{x:Static strings:AppResources.State}" Style="{StaticResource Headline}" />

                    <Label Grid.ColumnSpan="2" Grid.Row="1" Content="{x:Static strings:AppResources.Name}" Style="{StaticResource RequiredFieldLabel}" />
                    <TextBox x:Name="uxName" Grid.ColumnSpan="2" Grid.Row="2" Text="{Binding Name, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsEnabled="{Binding IsIdle}" AcceptsReturn="False" MaxLength="30" KeyDown="OnNameKeyDown" />

                    <Label Grid.ColumnSpan="2" Grid.Row="3" Content="{x:Static strings:AppResources.Country}" Style="{StaticResource RequiredFieldLabel}" />
                    <ComboBox x:Name="uxCountry" Grid.ColumnSpan="2" Grid.Row="4" ItemsSource="{Binding Countries}" SelectedItem="{Binding SelectedCountry}" DisplayMemberPath="Name" KeyDown="OnCountryKeyDown" />

                    <Button Grid.Column="0" Grid.Row="6" Content="{x:Static strings:AppResources.Cancel}" Margin="0,10,5,0" Command="{Binding Cancel}" Visibility="{Binding IsIdleVisibility}" Style="{StaticResource SecondaryButton}" />
                    <Button Grid.Column="1" Grid.Row="6" Content="{x:Static strings:AppResources.Save}" Margin="5,10,0,0" Command="{Binding Save}" Visibility="{Binding IsIdleVisibility}" />

                    <fa:ImageAwesome Grid.ColumnSpan="2" Grid.Row="6" Visibility="{Binding IsBusyVisibility}" Margin="0,10,0,0" HorizontalAlignment="Center" Style="{StaticResource LoadingImageAwesome}" />

                    <Label Grid.ColumnSpan="2" Grid.Row="7" Content="{Binding ErrorText}" Visibility="{Binding HasErrorVisibility}" Style="{StaticResource ErrorLabel}" />
                </Grid>
            </Border>
        </StackPanel>
    </ScrollViewer>
</wnd:BaseEditWindow>
